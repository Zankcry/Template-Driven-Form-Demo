<h2>Reactive Form Demo</h2>

<form [formGroup]="form" (ngSubmit)="onSubmit()">

  <input class="input-box" placeholder="Enter username" formControlName="username" />
  @if (isInvalid('username')) {
    <small class="error">Username: 4-12 chars (letters/numbers/_)</small>
  }

  <input class="input-box" type="email" placeholder="Enter email" formControlName="email" />
  @if (isInvalid('email')) {
    <small class="error">Enter a valid email</small>
  }

  <input class="input-box" type="password" placeholder="Enter password" formControlName="password" />
  @if (isInvalid('password')) {
    <small class="error">Password: 8+ with upper, lower, number</small>
  }

  <select class="input-box" formControlName="role">
    @for (r of roles; track r) {
      <option [value]="r">{{ r }}</option>
    }
  </select>

  <div class="radio-group">
    <label class="radio-label">Gender:</label>
    <label class="radio-option">
      <input type="radio" formControlName="gender" value="male"> Male
    </label>
    <label class="radio-option">
      <input type="radio" formControlName="gender" value="female"> Female
    </label>
    <label class="radio-option">
      <input type="radio" formControlName="gender" value="other"> Other
    </label>
  </div>

  <div class="radio-group">
    <label class="radio-label">Status:</label>
    <label class="radio-option">
      <input type="radio" formControlName="status" value="permanent"> Permanent
    </label>
    <label class="radio-option">
      <input type="radio" formControlName="status" value="probationary"> Probationary
    </label>
  </div>

  <textarea class="input-box" formControlName="comments" placeholder="Enter comments / notes" rows="4"></textarea>
  <input
    class="btn"
    type="submit"
    value="Submit"
    [disabled]="form.invalid">

</form>

<div class="output-section" *ngIf="submitted">
  <h3>Submitted Data</h3>
  <table class="output-table">
    <tr>
      <th>Field</th>
      <th>Value</th>
    </tr>
    <tr>
      <td>Username</td>
      <td>{{ form.value.username }}</td>
    </tr>
    <tr>
      <td>Email</td>
      <td>{{ form.value.email }}</td>
    </tr>
    <tr>
      <td>Password</td>
      <td>{{ form.value.password }}</td>
    </tr>
    <tr>
      <td>Role</td>
      <td>{{ form.value.role }}</td>
    </tr>
    <tr>
      <td>Gender</td>
      <td>{{ form.value.gender }}</td>
    </tr>
    <tr>
      <td>Status</td>
      <td>{{ form.value.status }}</td>
    </tr>
    <tr>
      <td>Comments</td>
      <td>{{ form.value.comments || 'N/A' }}</td>
    </tr>
  </table>
</div>
